(()=>{"use strict";const e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Map,o=Object.create(null),i=Object.create(null),c={Version:"1.4.4"};{const g=/^((bubble::)?[a-zA-Z0-9\-_ ]+::[a-zA-Z0-9\-_ ]+)(,(bubble::)?([a-zA-Z0-9\-_ ]+::[a-zA-Z0-9\-_ ]+))*$/,w=/^([a-zA-Z0-9\-_#.]+(::[a-zA-Z0-9\-_]+)?)(,([a-zA-Z0-9\-_#.]+(::[a-zA-Z0-9\-_]+)?))*$/;o.IWhelmJS=function(e,t=null){if(!(e instanceof Element))throw new TypeError("Given item must be an Element instance!");let r,o,i;return[o,i]=arguments.length>1?a(t):m(e),r=""===o||"accessor"===o?s(e):"template"===o?new E(e,i):p(o,e),n.set(e,r),r},c.DOM=function(e,t="script"){if(!("<"===(e=e.trim())[0]&&">"===e[e.length-1]))return"~* "===e.substring(0,3)?document.querySelectorAll(e.substring(3)):document.querySelector(e);if("<script>"===e)return document.createElement("script");const{body:n}=document.implementation.createHTMLDocument(document.title||"");n.innerHTML=e;const r=new DocumentFragment;for(;n.children.length>0;)r.appendChild(n.children[0]);const o=t.split(",");for(const e of o)for(const t of r.querySelectorAll(e))t.remove();return r.children.length<2?r.children[0]||null:r},c.BindInst=function(e,t,n=!0){if("function"!=typeof t)throw new TypeError("Argument 2 must be a constructor!");e=(""+(e||"")).trim();const o=Object.create(null);o.controller=t,o.construct=!!n,r.set(e,o)},c.GetInst=c.GetInstance=function(e){return n.get(e)||null},c.Extend=function(e){if(Object(e)!==e)throw new TypeError("Given extension must be a object!");Object.assign(i,e)};const v={getPrototypeOf:function(e){return Object.getPrototypeOf(e)},get:function(t,n){const{element:r,exported:o,func_bind:i,func_relink:c,func_bind_event:s,func_unbind_event:l,func_emit_event:u}=e.get(t);return"element"===n?r:"is_accessor"===n||("bind"===n?i:"relink"===n?c:"on"===n||"addEventListener"===n?s:"off"===n||"removeEventListener"===n?l:"emit"===n||"dispatchEvent"===n?u:o[n]||t[n])},set:function(t,n,r){if("element"===n)return!1;if("bind"===n)return!1;if("relink"===n)return!1;const{exported:o}=e.get(t);return o[n]||(t[n]=r),!0}};function s(t){const r=new y(t),o=new Proxy(r,v);return Object.assign(e.get(r),{proxy:o,func_bind:y.prototype.bind.bind(r),func_relink:y.prototype.relink.bind(r),func_bind_event:f.bind(r,o),func_unbind_event:b.bind(r,o),func_emit_event:d.bind(r,o)}),n.set(t,o),o}class y{constructor(t=null){const n=Object.assign(Object.create(null),{element:null,exported:Object.create(null)});e.set(this,n),0!==arguments.length&&this.bind(t)}bind(t){if(!(t instanceof Element))throw new TypeError("ElmAccessor constructor only accept Element instances!");const n=e.get(this);n.element=t,n.exported=Object.create(null),this.relink()}relink(){const t=e.get(this);t.exported=Object.create(null);const{element:n,exported:r}=t;!function e(t,n,r){const o=[];for(const e of Array.prototype.slice.call(r.children,0)){const r=l(t,n,e);null===r&&(e instanceof HTMLTemplateElement?o.push(e.content):o.push(e)),u(n,e,r)}for(const r of o)e(t,n,r)}(r,n,n)}}class E{constructor(e,t=""){if("string"==typeof e){var n=document.implementation.createHTMLDocument();if(n.body.innerHTML=e,1!==n.body.children.length)throw new TypeError("HTMLTemplate constructor only html string that is resolved as single Element instance!");e=n.body.children[0]}else{if(!(e instanceof Element))throw new TypeError("HTMLTemplate constructor only accepts an Element instance!");e.remove(),e=e.cloneNode(!0)}Object.defineProperties(this,{_tmpl_elm:{configurable:!1,writable:!1,enumerable:!1,value:e},_tmpl_dst_inst:{configurable:!1,writable:!1,enumerable:!1,value:t||"accessor"}}),e.removeAttribute("elm-export-tmpl"),e.removeAttribute("elm-export-inst"),e.removeAttribute("elm-export")}get is_template(){return!0}duplicate(){const{_tmpl_elm:e,_tmpl_dst_inst:t}=this,r=e.cloneNode(!0),o="accessor"===t?s(r):p(t,r);return n.set(r,o),o}}function l(e,t,r){const o=r.hasAttribute("elm-export"),i=r.hasAttribute("elm-export-inst"),c=r.hasAttribute("elm-export-accessor"),l=r.hasAttribute("elm-export-tmpl");if(!(o||i||c||l))return null;const u=!!o&&(r.getAttribute("elm-export")||"").trim();if(""===u)throw console.error(r),new SyntaxError("[elm-export] attribute's content value should not be empty!");o&&r.hasAttribute("elm-detached")&&r.remove(),r.matches("input[elm-no-ac][readonly]")&&r.addEventListener("focus",h);const[a,f]=m(r);if(""===a)return!1!==u&&(e[u]=r),null;let b;return b="accessor"===a?s(r):"template"===a?new E(r,f):p(a,r),n.set(r,b),!1!==u&&(e[u]=b),b}function u(e,r,i){const c=r.hasAttribute("elm-bind-event"),s=r.hasAttribute("elm-bind-event-bubble");if(c||s){let o=t.get(r);o||(o=new Map,t.set(r,o));const i=r.getAttribute(s?"elm-bind-event-bubble":"elm-bind-event").trim();if(!g.test(i))throw console.error(r),new SyntaxError(`Incorrect event '${i}' in ${r.tagName}[elm-bind-event] attribute!`);const c=i.split(",");for(const t of c){const i=t.split("::");let c,l,u=null;2===i.length?[c,l]=i:[u,c,l]=i;const a=s||!!u;let m=c.trim(),p=l.trim();""===p&&(p=m);const f=`${m}::${p}`,b=o.get(f);b&&(r.removeEventListener(m,b),o.delete(f));const d=t=>{const o=new Event(p,{bubbles:a});Object.defineProperties(o,{original:{value:t,enumerable:!0},source:{value:Object.freeze({element:r,accessor:n.get(e)||null}),enumerable:!0}}),e.dispatchEvent(o)};r.addEventListener(m,d),o.set(f,d)}}if(r.hasAttribute("elm-map-text")){const e=r.getAttribute("elm-map-text");if(!w.test(e))throw console.error(r),new SyntaxError(`Given ${r.tagName}[elm-map-text] attribute contains invalid attribute!`);const t=e.trim().split(",").map(e=>e.trim()).filter(e=>""!==e);for(const e of t){const[t,n]=e.split("::").map(e=>e.trim()),i=o.MAP_TEXT(t);n?r.setAttribute(n,i):r.textContent=i}}}function a(e){const[t,n]=(""+e||"").trim().split("::");if(void 0!==n&&"template"!==t)throw new SyntaxError("Invalid instance descriptor!");if(!t||"accessor"===t)return["accessor"];if("template"===t){const e=["template"];return n&&e.push(n),e}return[t]}function m(e){if(e.hasAttribute("elm-export-inst"))try{return a(e.getAttribute("elm-export-inst"))}catch(t){throw console.error(e),t}else{if(e.hasAttribute("elm-export-tmpl"))return["template"];if(e.hasAttribute("elm-export-accessor"))return["accessor"]}return[""]}function p(e,t){const n=r.get(e);if(!n)throw console.error(t),new TypeError(`Destination controller '${e}' is not registered yet!`);const{controller:o,construct:i}=n;return i?new o(t):o(t)}function f(t,n,r,...o){const{element:i}=e.get(this);if(!i)return t;const c=n.split(",").map(e=>e.trim());for(const e of c)i.addEventListener(e,r,...o);return t}function b(t,n,r,...o){const{element:i}=e.get(this);if(!i)return t;const c=n.split(",").map(e=>e.trim());for(const e of c)i.removeEventListener(e,r,...o);return t}function d(t,n,r={}){const{element:o}=e.get(this);if(!o)return t;const{bubbles:i,cancelable:c,composed:s,...l}=r;if("string"==typeof n&&(n=new Event(n,{bubbles:!!i,cancelable:!!c,composed:!!s})),!(n instanceof Event))throw new TypeError("Argument 1 must be a string or an Event instance!");return Object.assign(n,l),o.dispatchEvent(n),t}function h(){this.removeAttribute("readonly"),this.removeEventListener("focus",h)}}{const e=Object.create(null);e._default=[];let t="";c.UseTextMapGroup=function(e){t=(""+(e||"")).trim()},c.BindTextMap=function(t,n="_default"){if("string"!=typeof n)throw new TypeError("Input map group should be a string identifier!");const r="function"==typeof t,o=Object(t)===t;if(!r&&!o)throw new TypeError("Input map should be an object or a function!");const i=e[n]=e[n]||[];i.indexOf(t)<0&&i.push(t)},c.UnbindTextMap=function(t,n="_default"){if("string"!=typeof n)throw new TypeError("Input map group should be a string identifier!");const r="function"==typeof t,o=Object(t)===t;if(!r&&!o)throw new TypeError("Input map should be an object or a function!");const i=e[n]=e[n]||[],c=i.indexOf(t);c>=0&&i.splice(c,1)},o.MAP_TEXT=function(n){const r=e[t]||e._default;for(let e=r.length;e>0;e--){const t=r[e-1],o="function"==typeof t?t(n):t[n];if(void 0!==o)return""+(o||"")}return n}}window.WhelmJS=new Proxy(o.IWhelmJS,{apply:function(e,t,n){return o.IWhelmJS.apply(t,n)},get:function(e,t){return c[t]||i[t]},set:function(){throw new Error("Setting property directly is not allowed! Please use WhelmJS.Extend instead!")}})})();
